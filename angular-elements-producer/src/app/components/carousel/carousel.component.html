<div class="carousel" role="region" aria-roledescription="carousel">
  <!-- Viewport/Track -->
  <div class="viewport" (mouseenter)="pause()" (mouseleave)="resume()" [style.--spv]="slidesPerView">
    <div class="track" [style.transform]="'translateX(-' + (100 * pageIndex()) + '%)'">
      @for (slide of slides(); track $index) {
        <div class="slide">
          <img [src]="slide.src" [alt]="slide.alt" loading="lazy" />
        </div>
      }
    </div>
  </div>

  <!-- Arrows -->
  @if (showArrows && pagesCount() > 1) {
    <button class="nav prev" type="button" aria-label="Previous" (click)="prev()">&#10094;</button>
    <button class="nav next" type="button" aria-label="Next" (click)="next()">&#10095;</button>
  }

  <!-- Dots -->
  @if (showDots && pagesCount() > 1) {
    <div class="dots" role="tablist">
      @for (_ of pages(); track $index) {
        <button
          class="dot"
          role="tab"
          [attr.aria-selected]="$index === pageIndex()"
          [class.active]="$index === pageIndex()"
          (click)="goToPage($index)"
          [attr.aria-label]="'Go to page ' + ($index + 1)"
          type="button"
        ></button>
      }
    </div>
  }
</div>
